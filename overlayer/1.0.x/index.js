/*!
 * JRaiser 2 Javascript Library
 * overlayer - v1.0.0 (2014-07-03T12:33:38+0800)
 * http://jraiser.org/ | Released under MIT license
 */
define("overlayer/1.0.x/",["widget/1.0.x/","dom/1.0.x/"],function(e,i,t){"use strict";var o=e("base/1.0.x/"),s=e("widget/1.0.x/"),a=e("dom/1.0.x/"),n=/MSIE\s(\d+)/.test(window.navigator.userAgent)&&parseInt(RegExp.$1,10)<7;return s.create(function(e){},{_init:function(e){var i=this,t=e.wrapper,o="BODY"===t.prop("tagName"),s=o&&!n,r=i._overlayer=a("<div></div>").css({top:0,left:0,position:s?"fixed":"absolute",display:"none",zIndex:e.zIndex}).on("click",function(){i.trigger("click")});s&&r.css({width:"100%",height:"100%"});var d,l=n&&e.useIframe!==!1||e.useIframe;if(d=l?a('<div style="width: 100%; height: 100%;"></div>'):r,d.css("backgroundColor",e.backgroundColor),e.className&&d.addClass(e.className),s?i.adjustSize=function(){}:i.adjustSize=function(){var e,s;if(o){var a=document.documentElement;e=Math.max(a.clientWidth,a.scrollWidth),s=Math.max(a.clientHeight,a.scrollHeight)}else e=t.get(0).scrollWidth,s=t.get(0).scrollHeight;i._layerWidth!==e&&(r.css("width",e),i._layerWidth=e),i._layerHeight!==s&&(r.css("height",s),i._layerHeight=s)},o||t.css("position","relative"),i.adjustSize(),s||a(window).on("resize",i.adjustSize),l){var c=a('<iframe style="width: 100%; height: 100%; position: absolute; left: 0; top: 0; z-index: -1;" frameborder="0" scrolling="no"></iframe>');r.append(c),r.append(d)}t.append(r),e.visible&&i.show()},_destroy:function(){var e=this;a(window).off("resize",e.adjustSize),delete e.adjustSize,e._overlayer.remove(),delete e._overlayer,delete e._layerWidth,delete e._layerHeight,delete e._visible},show:function(){this.adjustSize(),this._doAction(!0)},hide:function(){this._doAction(!1)},toggle:function(){this._visible?this.hide():this.show()},_doAction:function(e){if(e!==this._visible){var i=this,t=i.trigger(e?"beforeshow":"beforehide");if(!t.isDefaultPrevented()){var s=i._overlayer;if(s){e&&i.adjustSize();var a=i._options.fade;a?(e&&s.css({opacity:0,display:"block"}),s.animate({opacity:e?i._options.opacity:0,display:e?"block":"none"},o.mix({callback:function(){i._actionDone(e)}},a,{overwrite:!1}))):(s[e?"show":"hide"](),i._actionDone(e))}}}},_actionDone:function(e){this._visible=e,this.trigger(e?"aftershow":"afterhide")}},{opacity:.6,zIndex:1e3,backgroundColor:"black",className:"overlayer",visible:!1,fade:{}})});