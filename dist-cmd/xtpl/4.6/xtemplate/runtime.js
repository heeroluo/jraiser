define("xtpl/4.6/xtemplate/runtime/util",null,function(e,r,t){"use strict";var c,n=(c=/["'&<>]/,function l(e){var r,t=""+e,n=c.exec(t);if(!n)return t;var i="",a=0,o=0;for(a=n.index;a<t.length;a++){switch(t.charCodeAt(a)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#39;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}o!==a&&(i+=t.substring(o,a)),o=a+1,i+=r}return o!==a?i+t.substring(o,a):i}),i=/\\?\{([^{}]+)\}/g,a="undefined"!=typeof global?global:window,u=void 0,o=Object.prototype.toString;t.exports=u={isArray:Array.isArray||function(e){return"[object Array]"===o.call(e)},keys:Object.keys||function(e){var r=[],t=void 0;for(t in e)e.hasOwnProperty(t)&&r.push(t);return r},each:function(e,r){var t=2<arguments.length&&arguments[2]!==undefined?arguments[2]:null;if(e){var n=void 0,i=void 0,a=void 0,o=0,c=e&&e.length;if(c===undefined||"[object Function]"===Object.prototype.toString.call(e))for(a=u.keys(e);o<a.length&&(n=a[o],!1!==r.call(t,e[n],n,e));o++);else for(i=e[0];o<c&&!1!==r.call(t,i,o,e);i=e[++o]);}return e},mix:function(e,r){if(r)for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);return e},globalEval:function(e){var r;a.execScript?a.execScript(e):(r=e,a.eval.call(a,r))},substitute:function(e,t,r){return"string"==typeof e&&t?e.replace(r||i,function(e,r){return"\\"===e.charAt(0)?e.slice(1):t[r]===undefined?"":t[r]}):e},escapeHtml:n,merge:function(){for(var e=0,r=arguments.length,t={};e<r;e++){var n=arguments.length<=e?undefined:arguments[e];n&&u.mix(t,n)}return t}}});
define("xtpl/4.6/xtemplate/runtime/scope",null,function(e,t,n){"use strict";function r(e,t,n){e!==undefined?this.data=e:this.data={},n?(this.parent=n,this.root=n.root):(this.parent=undefined,this.root=this),this.affix=t||{},this.ready=!1}r.prototype={isScope:1,constructor:r,setParent:function(e){this.parent=e,this.root=e.root},set:function(e,t){this.affix[e]=t},setData:function(e){this.data=e},getData:function(){return this.data},mix:function(e){var t=this.affix;for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},get:function(e){var t=this.data,n=void 0,r=this.affix;return null!==t&&t!==undefined&&(n=t[e]),n!==undefined?n:r[e]},resolveInternalOuter:function(e){var t=e[0],n=void 0,r=this;if("this"===t)n=this.data;else if("root"===t)n=(r=r.root).data;else{if(!t)return[r.data];for(;(n=r.get(t))===undefined&&(r=r.parent););}return[undefined,n]},resolveInternal:function(e){var t=this.resolveInternalOuter(e);if(1===t.length)return t[0];var n=void 0,r=e.length,i=t[1];if(i===undefined)return undefined;for(n=1;n<r;n++){if(null===i||i===undefined)return i;i=i[e[n]]}return i},resolveLooseInternal:function(e){var t=this.resolveInternalOuter(e);if(1===t.length)return t[0];var n=void 0,r=e.length,i=t[1];for(n=1;null!==i&&i!==undefined&&n<r;n++)i=i[e[n]];return i},resolveUp:function(e){return this.parent&&this.parent.resolveInternal(e)},resolveLooseUp:function(e){return this.parent&&this.parent.resolveLooseInternal(e)},resolveOuter:function(e,t){var n=this,r=t,i=void 0;if(!r&&1===e.length){if((i=this.get(e[0]))!==undefined)return[i];r=1}if(r)for(;n&&r--;)n=n.parent;return n?[undefined,n]:[undefined]},resolveLoose:function(e,t){var n=this.resolveOuter(e,t);return 1===n.length?n[0]:n[1].resolveLooseInternal(e)},resolve:function(e,t){var n=this.resolveOuter(e,t);return 1===n.length?n[0]:n[1].resolveInternal(e)}},n.exports=r});
define("xtpl/4.6/xtemplate/runtime/commands",null,function(e,n,r){"use strict";var g=e("./scope"),a=e("./util"),t={range:function(e,n){var r=n.params,i=r[0],a=r[1],t=r[2];if("undefined"!=typeof process&&"production"!==process.env.NODE_ENV&&("number"!=typeof i||"number"!=typeof a||t&&"number"!=typeof t))throw new Error("start/end/step of range must be type number!");t?(a<i&&0<t||i<a&&t<0)&&(t=-t):t=a<i?-1:1;for(var f=[],o=i;i<a?o<a:a<o;o+=t)f.push(o);return f},"void":function(){return undefined},foreach:function(e,n,r){var i=r,a=n.params,t=a[0],f=a[2]||"xindex",o=a[1],s=void 0,u=void 0,d=void 0,v=void 0;if(t)for(s=t.length,v=0;v<s;v++)d=(u=new g(t[v],{xcount:s,xindex:v},e)).affix,"xindex"!==f&&(d[f]=v,d.xindex=undefined),o&&(d[o]=t[v]),i=n.fn(u,i);return i},forin:function(e,n,r){var i=r,a=n.params,t=a[0],f=a[2]||"xindex",o=a[1],s=void 0,u=void 0,d=void 0;if(t)for(d in t)t.hasOwnProperty(d)&&(u=(s=new g(t[d],{xindex:d},e)).affix,"xindex"!==f&&(u[f]=d,u.xindex=undefined),o&&(u[o]=t[d]),i=n.fn(s,i));return i},each:function(e,n,r){var i=n.params[0];return i?a.isArray(i)?t.foreach(e,n,r):t.forin(e,n,r):r},"with":function(e,n,r){var i=r,a=n.params[0];if(a){var t=new g(a,undefined,e);i=n.fn(t,i)}return i},"if":function(e,n,r){var i=r;if(n.params[0]){var a=n.fn;a&&(i=a(e,i))}else{var t=!1,f=n.elseIfs,o=n.inverse;if(f)for(var s=0,u=f.length;s<u;s++){var d=f[s];if(t=d.test(e)){i=d.fn(e,i);break}}!t&&o&&(i=o(e,i))}return i},set:function(e,n,r){for(var i=e,a=n.hash,t=a.length,f=0;f<t;f++){var o=a[f],s=o.key,u=o.depth,d=o.value;if(1===s.length){for(var v=i.root;u&&v!==i;)i=i.parent,--u;i.set(s[0],d)}else{var p=i.resolve(s.slice(0,-1),u);p&&(p[s[s.length-1]]=d)}}return r},include:1,includeOnce:1,parse:1,extend:1,block:function(e,n,r){var i=r,a=this.runtime,t=n.params,f=t[0],o=void 0;2===t.length&&(o=t[0],f=t[1]);var s=a.blocks=a.blocks||{},u=s[f],d=void 0,v={fn:n.fn,type:o};if(u){if(u.type)if("append"===u.type)v.next=u,s[f]=v;else if("prepend"===u.type){var p=void 0;for(d=u;d&&"prepend"===d.type;)d=(p=d).next;v.next=d,p.next=v}}else s[f]=v;if(!a.extendTpl)for(d=s[f];d;)d.fn&&(i=d.fn.call(this,e,i)),d=d.next;return i},macro:function e(n,r,i){var a=i,t=r.hash,f=r.params,o=f[0],s=f.slice(1),u=this.runtime,d=u.macros=u.macros||{},e=d[o];if(r.fn)d[o]={paramNames:s,hash:t,fn:r.fn};else if(e){var v=e.hash||{},p=e.paramNames;if(p)for(var c=0,l=p.length;c<l;c++){v[p[c]]=s[c]}if(t)for(var h in t)t.hasOwnProperty(h)&&(v[h]=t[h]);var x=new g(v);x.root=n.root,a=e.fn.call(this,x,a)}else{var m="can not find macro: "+o;a.error(m)}return a},"debugger":function(){a.globalEval("debugger")}};r.exports=t});
define("xtpl/4.6/xtemplate/runtime/linked-buffer",null,function(t,i,n){"use strict";var e=t("./util");function a(t,i,n){this.list=t,this.init(),this.next=i,this.ready=!1,this.tpl=n}function r(t,i){var n=this;n.config=i,n.head=new a(n,undefined),n.callback=t,this.init()}a.prototype={constructor:a,isBuffer:1,init:function(){this.data=""},append:function(t){return this.data+=t,this},write:function(t){if(null!==t&&t!==undefined){if(t.isBuffer)return t;this.data+=t}return this},writeEscaped:function(t){if(null!==t&&t!==undefined){if(t.isBuffer)return t;this.data+=e.escapeHtml(t)}return this},insert:function(){var t=this,i=t.list,n=t.tpl,e=new a(i,new a(i,t.next,n),n);return t.next=e,t.ready=!0,e},async:function(t){var i=this.insert(),n=i.next;return t(i),n},error:function(t){var i=this.list.callback,n=t;if(i){var e=this.tpl;if(e){n instanceof Error||(n=new Error(n));var a=e.name,r=e.pos.line,s="XTemplate error in file: "+a+" at line "+r+": ";try{n.stack=s+n.stack,n.message=s+n.message}catch(u){}n.xtpl={pos:{line:r},name:a}}this.list.callback=null,i(n,undefined)}},end:function(){var t=this;return t.list.callback&&(t.ready=!0,t.list.flush()),t}},r.prototype={constructor:r,init:function(){this.data=""},append:function(t){this.data+=t},end:function(){this.callback(null,this.data),this.callback=null},flush:function(){for(var t=this,i=t.head;i;){if(!i.ready)return void(t.head=i);this.data+=i.data,i=i.next}t.end()}},r.Buffer=a,n.exports=r});
define("xtpl/4.6/xtemplate/runtime",null,function(n,e,r){"use strict";var a=n("./runtime/util"),t=n("./runtime/commands"),s={},m=n("./runtime/scope"),p=n("./runtime/linked-buffer");function v(n,e,r,t,i,o,u,a){this.name=n,this.originalName=o||n,this.runtime=e,this.root=r,this.pos={line:1},this.scope=t,this.buffer=i,this.fn=u,this.parent=a}function o(n,e,r,t,i,o){var u=void 0,a=void 0,f=void 0;if(o||(f=function d(n,e,r){var t=r[0],i=n&&n[t]||e&&e[t]||s[t];if(1===r.length)return i;if(i)for(var o=r.length,u=1;u<o;u++)if(!(i=i[r[u]]))return!1;return i}(n.runtime.commands,n.root.config.commands,i)),f)return f.call(n,e,r,t);if(!1!==f){var c=i.slice(0,-1);if(null===(u=e.resolve(c,o))||u===undefined)return t.error("Execute function `"+i.join(".")+"` Error: "+c.join(".")+" is undefined or null"),t;if(a=u[i[i.length-1]])try{return a.apply(u,r.params||[])}catch(l){return t.error("Execute function `"+i.join(".")+"` Error: "+l.message),t}}return t.error("Command Not Found: "+i.join(".")),t}var i={callFn:o,callDataFn:function(n,e){for(var r=e[0],t=r,i=1;i<e.length;i++){var o=e[i];if(!t||!t[o])return"";t=(r=t)[o]}return t.apply(r,n||[])},callCommand:function(n,e,r,t,i){return o(n,e,r,t,i)}};function u(n,e){this.fn=n,this.config=a.merge(u.globalConfig,e),this.subNameResolveCache={},this.loadedSubTplNames={}}function d(n,e,r){var t=e;if("."!==t.charAt(0))return t;var i=r+"_ks_"+t,o=n.subNameResolveCache,u=o[i];return u||(t=o[i]=function a(n,e){var r=n.split("/"),t=e.split("/");r.pop();for(var i=0,o=t.length;i<o;i++){var u=t[i];"."!==u&&(".."===u?r.pop():r.push(u))}return r.join("/")}(r,t))}function f(n,e,r,t,i,o){var u=d(n,o,i.name),a=t.insert(),f=a.next;return function c(n,e,r,t,i,o,u,a){var f=new v(e,r,n,t,i,o,undefined,a);i.tpl=f,n.config.loader.load(f,function(n,e){var r=e;"function"==typeof r?(f.fn=r,h(f)):n?i.error(n):(r=r||"",u?i.writeEscaped(r):i.data+=r,i.end())})}(n,u,i.runtime,e,a,o,r,t.tpl),f}function c(n,e,r,t,i){var o=r.insert(),u=o.next,a=new v(i.TPL_NAME,t.runtime,n,e,o,undefined,i,r.tpl);return h(o.tpl=a),u}function h(n){var e=n.fn();if(e){var r=n.runtime,t=r.extendTpl,i=void 0;if(t&&!(i=t.params[0]))return e.error("extend command required a non-empty parameter");var o=r.extendTplFn,u=r.extendTplBuffer;return o?(r.extendTpl=null,r.extendTplBuffer=null,r.extendTplFn=null,c(n.root,n.scope,u,n,o).end()):i&&(r.extendTpl=null,r.extendTplBuffer=null,f(n.root,n.scope,0,u,n,i).end()),e.end()}}function l(n,e,r){var t=e.params;if(!t[0])return r.error("include command required a non-empty parameter");var i=n,o=t[1],u=e.hash;return u&&(o=o?a.mix({},o):{},a.mix(o,u)),o&&(i=new m(o,undefined,n)),i}function g(n,e,r){var t=d(n,e.params[0],r.name),i=n.loadedSubTplNames;return!i[t]&&(i[t]=!0)}a.mix(u,{Scope:m,LinkedBuffer:p,globalConfig:{},config:function(n,e){var r=this.globalConfig;if(n===undefined)return r;e!==undefined?r[n]=e:a.mix(r,n)},nativeCommands:t,utils:i,util:a,addCommand:function(n,e){s[n]=e},removeCommand:function(n){delete s[n]}}),u.prototype={constructor:u,Scope:m,nativeCommands:t,utils:i,removeCommand:function(n){var e=this.config;e.commands&&delete e.commands[n]},addCommand:function(n,e){var r=this.config;r.commands=r.commands||{},r.commands[n]=e},include:function(n,e,r,t){return f(this,l(n,e,r),e.escape,r,t,e.params[0])},includeModule:function(n,e,r,t){return c(this,l(n,e,r),r,t,e.params[0])},includeOnce:function(n,e,r,t){return g(this,e,t)?this.include(n,e,r,t):r},includeOnceModule:function(n,e,r,t){return g(this,e,t)?this.includeModule(n,e,r,t):r},render:function(n,e,r){var t=this,i=e,o=r,u="",a=this.fn,f=this.config;"function"==typeof i&&(o=i,i=null),i=i||{},o||(o=function o(n,e){var r=n;if(r)throw r instanceof Error||(r=new Error(r)),r;u=e});var c=this.config.name;!c&&a&&a.TPL_NAME&&(c=a.TPL_NAME);var d=void 0;d=n instanceof m?n:new m(n);var l=new p(o,f).head,s=new v(c,{commands:i.commands},this,d,l,c,a);return l.tpl=s,a?h(s):f.loader.load(s,function(n,e){e?(s.fn=t.fn=e,h(s)):n&&l.error(n)}),u}},r.exports=u});