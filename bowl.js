/*!
 * Bowl.js
 * Javascript module loader for browser - v1.0.3 (2015-12-18T17:11:04+0800)
 * http://jraiser.org/ | Released under MIT license
 */
!function(e,t){"use strict";function r(e,t){f.logs.push("["+e+"]"+t)}function n(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function a(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function i(e){return String(e).replace(/^\s+/,"").replace(/\s+$/,"")}function o(e){var t,r=/(?:^|[^.$])\brequire\s*\(\s*(["'])([^"'\s\)]+)\1\s*\)/g,n=[];for(e=e.replace(/^\s*\/\*[\s\S]*?\*\/\s*$/gm,"").replace(/^\s*\/\/.*$/gm,"");t=r.exec(e);)t[2]&&n.push(t[2]);return n}function s(e){return/^(?:[a-z]+:)?\/{2,}/i.test(e)}function u(e){var t=h.createElement("div");return t.innerHTML='<a href="'+e+'"></a>',e=t.firstChild.href,t=null,e}function c(e,t){return/^\//.test(e)?(t=p.appPath,e=e.substr(1)):/^\./.test(e)||(t=p.libPath),u(t+e)}function d(e,t,r){var n=e=i(e),a=!/^\./.test(e);if(a&&m[n])return m[n];var o="",u="";e=e.replace(/#(.*)$/,function(e,t){return i(t)&&(o=e),""}).replace(/\?(.*)$/,function(e,t){return i(t)&&(u=e),""}).replace(/([^\\\/]+)@([^\\\/]+)/g,function(e,t,r){return t+"/"+r+"/"+t}).split("/");var d,l=e.pop()||"index",f=l.lastIndexOf(".");-1!==f&&(d=l.substr(f+1),l=l.substr(0,f)),d=d||"js";var h=/-debug$/;"#nondebug"!==o&&p.debug&&!h.test(l)?l+="-debug":!p.debug&&h.test(l)&&(l=l.replace(h,"")),e.push(l+"."+d);var y=e.join("/")+u;if(s(y)||(y=c(y,t||"")),r&&o)y+=o;else{var v=p.map;if(v)for(var b=0;b<v.length;b++)"function"==typeof v[b]?y=v[b](y):g(v[b])&&(y=y.replace(v[b][0],v[b][1]));a&&(m[n]=y)}return y}function l(e,t,n){this._factory=t,this._deps=n,r("module","create: "+(e||"")),e?this.setId(e):l.anonymous=this}if(!e.bowljs){var f=e.bowljs={version:"1.0.3",logs:[]},p={},h=e.document,y=e.attachEvent&&!(null!=e.opera&&"[object Opera]"===e.opera.toString()),v=Object.prototype.toString,g=Array.isArray||function(e){return"[object Array]"===v.call(e)},m={},b=function(){var e,t,n="onload"in h.createElement("script")?"onload":"onreadystatechange",a=h.head||h.getElementsByTagName("head")[0],i={},o=[];return{getCurrentScript:function(){if(e)return e;if(t&&"interactive"===t.readyState)return t;for(var r=0;r<o.length;r++)if("interactive"===o[r].readyState)return t=o[r]},load:function(s,u){var c=i[s];if(r("scriptLoader","load: "+s),r("scriptLoader","status: "+c),c)2===c&&u&&u();else{i[s]=1;var d=h.createElement("script");switch(typeof p.charset){case"function":d.charset=p.charset(s);break;case"string":d.charset=p.charset}d.async="async",d.src=s,d[n]=d.onerror=function(){var e=d.readyState;if(!e||"loaded"===e||"complete"===e){i[s]=2,r("scriptLoader","onload: "+s),d[n]=d.onerror=null,a.removeChild(d);for(var c=o.length-1;c>=0;c--)if(o[c]===d){o.splice(c,1);break}d=t=null,u&&u()}},o.push(d),e=d,a.insertBefore(d,a.firstChild),e=null}}}}(),_=function(){var e={};return{add:function(t,n){r("dependentChain","add"),r("dependentChain","moduleId: "+t),r("dependentChain","depId: "+n);var a=e[n]=e[n]||[];a.push(t)},get:function(t){return e[t]},clear:function(t){r("dependentChain","remove"),r("dependentChain","depId: "+t),delete e[t]}}}(),x=function(){function e(){return a++,"#"+a+"#"}function n(){for(var e;(e=i[0])&&e.isReady();)i.shift(),delete l.all[e.id()],e.execute()}var a=0,i=[],o={init:function(){for(var e=this,t=p.preload.slice(),a=0,i=0,o=0;o<t.length;o++)t[o]&&(i++,b.load(d(t[o]),function(){a++,a>=i&&(r("taskManager","preload complete"),delete e._scripts,n())}));i&&(e._scripts=t)},id:function(){return"#preload#"},isReady:function(){return this._scripts===t},execute:function(){}};return{add:function(t){p.preload||(o=null),o&&(i.push(o),o.init(),o=null),i.push(t),t.setId(e())},tryExecute:n}}(),w=e.require=function(e,t){r("globalRequire",e),x.add(new l(null,t,g(e)?e:[e]))};w.resolve=function(e){return d(e)},a(l,{require:function(e,t){e=d(e,t);var r=l.all[e];if(r)return r.exports();throw new Error('module "'+e+'" does not exist')},isReady:function(e){var t=l.all[e];return t&&t.isReady()},load:function(e){l.all[e]||(r("Module","load: "+e),b.load(e,function(){if(!l.all[e]&&(!y&&l.anonymous&&l.anonymous.setId(e),!l.all[e]))throw new Error('module "'+e+'" lost')}))},all:{}}),a(l.prototype,{setId:function(e){var t=this;if(t._id)throw new Error("module id cannot be changed");if(r("module","setId: "+e),t._id=e,l.anonymous===t&&delete l.anonymous,!l.all[e]){l.all[e]=t,t._dirname=t.isTask()?"":e.substr(0,e.lastIndexOf("/")+1);var a=t._deps;if(a){for(var i,o=t._readyStates={},s=0;s<a.length;s++)a[s]&&(a[s]=i=d(a[s],t._dirname),l.isReady(i)||(_.add(e,i),o[i]=!0,r("module","notReady: "+i),l.load(i)));n(o)&&delete t._readyStates}t._checkReady()}},_checkReady:function(){var e=this.isReady(),t=this.id();if(r("module","id: "+t),r("module","checkReady: "+e),e)if(this.isTask())x.tryExecute();else{var n=_.get(t);if(n){for(var a,i=n.length-1;i>=0;i--)a=l.all[n[i]],a&&(a.notifyReady(t),r("module","notifyTo: "+n[i]));_.clear(t)}}},id:function(){return this._id},isTask:function(){return/^#\d+#$/.test(this._id)},isReady:function(){return this._readyStates===t},notifyReady:function(e){var t=this._readyStates;t&&(delete t[e],n(t)&&delete this._readyStates),this._checkReady()},execute:function(){r("module","execute: "+this.id());for(var e=this._deps,t=[],n=e.length-1;n>=0;n--)t[n]=l.all[e[n]].exports();this._factory&&this._factory.apply(window,t)},exports:function(){var e=this,t=e._executedModule;if(!t){if(t={id:e.id()},r("module","export: "+t.id),"function"==typeof e._factory){t.exports={};var n=function(t){return l.require(t,e._dirname)};n.async=function(t,r){g(t)||(t=[t]);for(var n=t.length-1;n>=0;n--)t[n]=d(t[n],e._dirname,!0);w(t,r)},n.resolve=function(t){return d(t,e._dirname)};var a=e._factory.call(window,n,t.exports,t);a&&(t.exports=a)}else t.exports=e._factory;e._executedModule=t}return t.exports}}),e.define=function(){var e,t,n,a=arguments;switch(a.length){case 1:n=a[0],t=o(n.toString());break;case 2:t=a[0],n=a[1];break;case 3:e=d(a[0]),t=a[1],n=a[2]}if(!e&&y){var i=b.getCurrentScript();i&&(e=i.src)}r("globalDefine",e||""),new l(e,n,g(t)?t:[t])},e.define.amd={},f.config=function(e){var t=function(e){return s(e)||(e=u(e)),"/"!==e.charAt(e.length-1)&&(e+="/"),e},r=p.map;a(p,e),r&&p.map!==r&&(p.map=r.concat(p.map)),e.libPath&&(p.libPath=t(p.libPath)),e.appPath&&(p.appPath=t(p.appPath))},f.config({libPath:"./",appPath:"./",debug:function(){var t=!1,r=e.location.search;return/[?|&]debug(&|$)/.test(r)?t=!0:/[?|&]nondebug(&|$)/.test(r)&&(t=!1),t}()}),!function(){for(var e,t=h.getElementsByTagName("script"),r=0;r<t.length;r++)if(e=t[r].getAttribute("data-main"),e&&/bowl|jraiser/i.test(t[r].src)){w(e);break}}()}}(window);