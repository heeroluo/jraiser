/*!
 * JRaiser 2 Javascript Library
 * dom-traversal - v1.0.0 (2013-08-17T21:28:23+0800)
 * http://jraiser.org/ | Released under MIT license
 */
define("dom/1.0.x/dom-traversal",["dom/1.0.x/dom-base","dom/1.0.x/sizzle"],function(n){"use strict";function t(n,t){return t?u.matches(t,n):n}function r(n,r,i,o){var s=e.isNode(i)?[i]:u(i),f=[];return n.forEach(function(n){for(;n=n[r];)if(1===n.nodeType){if(-1!==s.indexOf(n))break;f.push(n)}}),u.uniqueSort(f),"parentNode"===r&&f.reverse(),new n.constructor(t(f,o))}function i(n,r,i,e){var u=[];return n.forEach(function(n){for(;(n=n[r])&&(1!==n.nodeType||(u.push(n),!e)););}),new n.constructor(t(u,i))}var e=n("./dom-base"),u=n("./sizzle");return{shortcuts:{index:function(n){return this.length?null==n?u("> *",this[0].parentNode).indexOf(this[0]):"string"==typeof n?u(n).indexOf(this[0]):this.indexOf(e.isNode(n)?n:n[0]):-1},children:function(n){var r=[];return this.forEach(function(n){for(var t=n.firstChild;t;)1===t.nodeType&&r.push(t),t=t.nextSibling}),r.length>1&&u.uniqueSort(r),new this.constructor(t(r,n))},next:function(n){return i(this,"nextSibling",n,!0)},nextAll:function(n){return i(this,"nextSibling",n)},prev:function(n){return i(this,"previousSibling",n,!0)},prevAll:function(n){return i(this,"previousSibling",n)},parent:function(n){return i(this,"parentNode",n,!0)},parents:function(n){return i(this,"parentNode",n)},siblings:function(n){var t=this,r=0;return this.parent().children(n).filter(function(n){for(var i=r;i<t.length;i++)if(t[i]===n)return r++,!1;return!0})},nextUntil:function(n,t){return r(this,"nextSibling",n,t)},prevUntil:function(n,t){return r(this,"previousSibling",n,t)},parentsUntil:function(n,t){return r(this,"parentNode",n,t)}}}});