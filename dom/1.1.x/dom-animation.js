/*!
 * JRaiser 2 Javascript Library
 * dom-animation - v1.1.1 (2015-04-27T15:37:10+0800)
 * http://jraiser.org/ | Released under MIT license
 */
define("dom/1.1.x/dom-animation",["base/1.1.x/","animation/1.0.x/","dom/1.1.x/dom-base","dom/1.1.x/dom-data","dom/1.1.x/dom-style","dom/1.1.x/sizzle","dom/1.1.x/dom-offset"],function(t,e,r){"use strict";function n(t,e){return"string"==typeof e&&(g.test(e)?e=parseFloat(e,10)||0:m.test(t)?h.test(e)?e=[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)]:b.test(e)&&(e=[Number(RegExp.$1),Number(RegExp.$2),Number(RegExp.$3)]):e=e.toLowerCase()),e}function s(t,e){var r,s={};for(var o in e)e.hasOwnProperty(o)&&(r="width"===o||"height"===o?p.getSize(t,o):d.test(o)?f.getScroll(t,RegExp.$1):n(o,p.getStyle(t,o)),s[o]=r);return s}function o(t,e){var r,s={};for(r in t)t.hasOwnProperty(r)&&(s[r]=p.rRelNumber.test(t[r])?(parseFloat(e[r],10)||0)+Number(RegExp.$1+RegExp.$2):n(r,t[r]));return s}function a(t,e,r){if(c.isHTMLElement(t)){r=r||{};var n=s(t,e);e=o(e,n),i(t);var a=u.add({startValue:n,endValue:e,duration:r.duration,easing:r.easing,step:function(e,r){d.test(r)?f.setScroll(t,RegExp.$1,e):p.setStyle(t,r,m.test(r)?"rgb("+e.map(function(t){return Math.min(255,Math.round(t))}).join(", ")+")":e)},onprogress:function(){r.onprogress&&r.onprogress.apply(t,arguments)},oncomplete:function(){$.clear(t);var e=r.oncomplete||r.callback;e&&e.call(t)}});$.set(t,"taskId",a)}}function i(t,e){if(c.isHTMLElement(t)){var r=$.get(t,"taskId");r&&(u.remove(r,e),$.clear(t))}}var u=t("animation/1.0.x/"),c=t("./dom-base"),l=t("./dom-data"),p=t("./dom-style"),f=t("./dom-offset"),g=/^[+-]?\d+(?:\.\d+)?[^\s]*$/,d=/^scroll(Top|Left)$/,m=/color$/i,h=/^#[0-9a-f]{6}$/i,b=/^rgb\((\d+),\s(\d+),\s(\d+)\)$/,$=l.createDataSpace({cloneable:!1});return{shortcuts:{animate:function(t,e){for(var r in t)t.hasOwnProperty(r)&&(t[r]=n(r,t[r]));return this.forEach(function(r){a(r,t,e)}),this},stop:function(t){return this.forEach(function(e){i(e,t)}),this}}}});