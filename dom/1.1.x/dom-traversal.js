/*!
 * JRaiser 2 Javascript Library
 * dom-traversal - v1.1.0 (2014-10-10T10:01:16+0800)
 * http://jraiser.org/ | Released under MIT license
 */
define("dom/1.1.x/dom-traversal",["base/1.0.x/","dom/1.1.x/dom-base","dom/1.1.x/sizzle",null],function(n){"use strict";function e(n){if(n&&s.isNode(n)){if(1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)return[n];var t,r=[n];if(n.getElementsByTagName?t=n.getElementsByTagName("*"):n.querySelectorAll&&(t=n.querySelectorAll("*")),t)u.merge(r,t);else if(t=n.childNodes)for(var i,o=t.length,f=-1;++f<o;)i=e(t[f]),i&&u.merge(r,i);return r}}function t(n,e,t){return new e(t?f.matches(t,n):n)}function r(n,e,r,i){return f.uniqueSort(n),("parentNode"===e||"previousSibling"===e)&&n.reverse(),t(n,r,i)}function i(n,e,t,i){"string"==typeof t?t=f(t):s.isNode(t)&&(t=[t]);var o=[];return n.forEach(function(n){for(;n=n[e];)if(1===n.nodeType||9===n.nodeType){if(t&&-1!==t.indexOf(n))break;o.push(n)}}),r(o,e,n.constructor,i)}function o(n,e,t,i){var o=[];return n.forEach(function(n){for(;(n=n[e])&&(1!==n.nodeType&&9!==n.nodeType||(o.push(n),!i)););}),r(o,e,n.constructor,t)}var u=n("base/1.0.x/"),s=n("./dom-base"),f=n("./sizzle");return{selfAndDescendants:e,shortcuts:{index:function(n){var e=this.get(0),t=-1,r=s.isNode(e)&&!!e.parentNode;if(e)if(null==n){if(r){var i=e;for(t=0;i=i.previousSibling;)1===i.nodeType&&t++}}else"string"==typeof n?r&&(t=f(n).indexOf(e)):t=this.indexOf(s.isNode(n)?n:n[0]);return t},children:function(n){var e=[];return this.forEach(function(n){for(var t=n.firstChild;t;)1===t.nodeType&&e.push(t),t=t.nextSibling}),this.length>1&&f.uniqueSort(e),t(e,this.constructor,n)},next:function(n){return o(this,"nextSibling",n,!0)},nextAll:function(n){return o(this,"nextSibling",n)},prev:function(n){return o(this,"previousSibling",n,!0)},prevAll:function(n){return o(this,"previousSibling",n)},parent:function(n){return o(this,"parentNode",n,!0)},parents:function(n){return o(this,"parentNode",n)},siblings:function(n){var e=[];return this.forEach(function(n){for(var t=n;t=t.previousSibling;)1===t.nodeType&&e.push(t);for(t=n;t=t.nextSibling;)1===t.nodeType&&e.push(t)}),f.uniqueSort(e),t(e,this.constructor,n)},nextUntil:function(n,e){return i(this,"nextSibling",n,e)},prevUntil:function(n,e){return i(this,"previousSibling",n,e)},parentsUntil:function(n,e){return i(this,"parentNode",n,e)}}}});