/*!
 * JRaiser 2 Javascript Library
 * dom-traversal - v1.1.1 (2015-04-27T15:38:00+0800)
 * http://jraiser.org/ | Released under MIT license
 */
define("dom/1.1.x/dom-traversal",["base/1.1.x/","dom/1.1.x/dom-base","dom/1.1.x/sizzle"],function(n,e,t){"use strict";function r(n){if(n&&c.isNode(n)){if(1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)return[n];var e,t=[n];if(n.getElementsByTagName?e=n.getElementsByTagName("*"):n.querySelectorAll&&(e=n.querySelectorAll("*")),e)f.merge(t,e);else if(e=n.childNodes)for(var i,o=e.length,u=-1;++u<o;)i=r(e[u]),i&&f.merge(t,i);return t}}function i(n,e,t){return new e(t?l.matches(t,n):n)}function o(n,e,t,r){return l.uniqueSort(n),("parentNode"===e||"previousSibling"===e)&&n.reverse(),i(n,t,r)}function u(n,e,t,r){"string"==typeof t?t=l(t):c.isNode(t)&&(t=[t]);var i=[];return n.forEach(function(n){for(;n=n[e];)if(1===n.nodeType||9===n.nodeType){if(t&&-1!==t.indexOf(n))break;i.push(n)}}),o(i,e,n.constructor,r)}function s(n,e,t,r){var i=[];return n.forEach(function(n){for(;(n=n[e])&&(1!==n.nodeType&&9!==n.nodeType||(i.push(n),!r)););}),o(i,e,n.constructor,t)}var f=n("base/1.1.x/"),c=n("./dom-base"),l=n("./sizzle");return{selfAndDescendants:r,shortcuts:{index:function(n){var e=this.get(0),t=-1,r=c.isNode(e)&&!!e.parentNode;if(e)if(null==n){if(r){var i=e;for(t=0;i=i.previousSibling;)1===i.nodeType&&t++}}else"string"==typeof n?r&&(t=l(n).indexOf(e)):t=this.indexOf(c.isNode(n)?n:n[0]);return t},children:function(n){var e=[];return this.forEach(function(n){for(var t=n.firstChild;t;)1===t.nodeType&&e.push(t),t=t.nextSibling}),this.length>1&&l.uniqueSort(e),i(e,this.constructor,n)},next:function(n){return s(this,"nextSibling",n,!0)},nextAll:function(n){return s(this,"nextSibling",n)},prev:function(n){return s(this,"previousSibling",n,!0)},prevAll:function(n){return s(this,"previousSibling",n)},parent:function(n){return s(this,"parentNode",n,!0)},parents:function(n){return s(this,"parentNode",n)},siblings:function(n){var e=[];return this.forEach(function(n){for(var t=n;t=t.previousSibling;)1===t.nodeType&&e.push(t);for(t=n;t=t.nextSibling;)1===t.nodeType&&e.push(t)}),l.uniqueSort(e),i(e,this.constructor,n)},nextUntil:function(n,e){return u(this,"nextSibling",n,e)},prevUntil:function(n,e){return u(this,"previousSibling",n,e)},parentsUntil:function(n,e){return u(this,"parentNode",n,e)}}}});