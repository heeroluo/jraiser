/*!
 * JRaiser 2 Javascript Library
 * promise - v1.0.0 (2016-04-24T13:18:38+0800)
 * http://jraiser.org/ | Released under MIT license
 */
define("promise/1.0.x/",["base/1.1.x/"],function(n,t,e){"use strict";function r(n){return n&&"function"==typeof n.then}var i=n("base/1.1.x/"),u="undefined"!=typeof console&&console.error?function(n){console.error("(in promise) "+n)}:function(){},o=0,c=1,s=2,f=i.createClass(function(n){if("function"!=typeof n)throw new Error("Promise executor must be a function");var t=this;t._status=o,t._pendings={},t._pendings[c]=[],t._pendings[s]=[];try{n(function(n){t._settle(c,n)},function(n){t._settle(s,n)})}catch(e){t._settle(s,e)}},{_settle:function(n,t){var e=this;e._status===o&&(e._status=n,e._value=t,e._pendings[n].forEach(function(n){n(t)}),delete e._pendings)},_listen:function(n,t){var e=this;e._status===o?e._pendings[n].push(t):e._status===n&&t(e._value)},then:function(n,t){var e=this;return new f(function(i,o){e._listen(c,function(){var t=e._value;if(n)try{t=n(t)}catch(c){return u(c),void o(c)}r(t)?t.then(i,o):i(t)}),e._listen(s,function(){var n=e._value;if(t){try{n=t(n)}catch(c){return u(c),void o(c)}r(n)?n.then(i,o):i(n)}else o(n)})})},"catch":function(n){return this.then(null,n)}});return i.extend(f,{all:function(n){var t=n.length;return t?new f(function(e,r){var i=new Array(t);n.forEach(function(n,u){n.then(function(n){i[u]=n,--t||e(i)},r)})}):f.resolve([])},race:function(n){return new f(function(t,e){n.forEach(function(n,r){n.then(t,e)})})},resolve:function(n){return new f(function(t,e){t(n)})},reject:function(n){return new f(function(t,e){e(n)})}}),f});