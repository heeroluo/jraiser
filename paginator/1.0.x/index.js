/*!
 * JRaiser 2 Javascript Library
 * paginator - v1.0.0 (2014-06-25T11:35:01+0800)
 * http://jraiser.org/ | Released under MIT license
 */
define("paginator/1.0.x/",["base/1.0.x/","dom/1.0.x/dom-event-arg","widget/1.0.x/","tmpl/1.0.x/"],function(e,a,t){"use strict";var r=e("widget/1.0.x/"),i=e("tmpl/1.0.x/");return r.create(function(e){},{_init:function(e){var a=this,t=e.wrapper;t&&(t.empty().html(i.render(e.template,{currentPage:e.currentPage,totalPages:e.totalPages,pageNumbers:a._build(),nextText:e.nextText,prevText:e.prevText,ellipsisText:e.ellipsisText})),t.find("a").click(function(e){e.preventDefault(),a.trigger("click",{page:parseInt(this.getAttribute("data-page"))||1})}))},_destroy:function(e){e.wrapper&&e.wrapper.empty()},_build:function(){var e=this._options,a=e.totalPages;if(!(1>a)){var t=e.numberOfPagesToShow,r=parseInt((t-1)/2),i=e.currentPage||1,n=[],p=i-r,s=i+r,g=p-1,l=a-s;0>g&&(p=1,s=Math.min(a,s-g)),0>l&&(s=a,g>0&&(p=Math.max(1,p+l))),t>s-p+1&&(a>s?s++:p>1&&p--);for(var o=p;s>=o;o++)n.push({page:o,current:o==i});var u=p-1;return u&&(u>2?n.unshift({page:"..."}):u>1&&n.unshift({page:2,current:!1}),n.unshift({page:1,current:!1})),u=a-s,u&&(u>2?n.push({page:"..."}):u>1&&n.push({page:s+1,current:!1}),n.push({page:a,current:!1})),n}}},{currentPage:1,numberOfPagesToShow:7,prevText:"上一页",nextText:"下一页",ellipsisText:"...",template:'<ol class="paginator"><% if (currentPage > 1) { %><li class="paginator-item paginator-prev"><a href="#" data-page="<%=(currentPage - 1)%>"><%=prevText%></a></li><% } else { %><li class="paginator-item paginator-prev paginator-prev-disabled"><span><%=prevText%></span></li><% } %><% pageNumbers.forEach(function(obj) { %><% if (obj.current) { %><li class="paginator-item paginator-number paginator-current"><span><%=obj.page%></span></li><% } else if (obj.page === "...") { %><li class="paginator-item paginator-ellipsis"><span><%=ellipsisText%></span></li><% } else { %><li class="paginator-item paginator-number"><a href="#" data-page="<%=obj.page%>"><%=obj.page%></a></li><% } %><% }); %><% if (currentPage < totalPages) { %><li class="paginator-item paginator-next"><a href="#" data-page="<%=(currentPage + 1)%>"><%=nextText%></a></li><% } else { %><li class="paginator-item paginator-next paginator-next-disabled"><span><%=nextText%></span></li><% } %></ol>'})});