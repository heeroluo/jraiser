/*!
 * JRaiser 2 Javascript Library
 * paginator - v1.1.0 (2016-02-11T10:25:36+0800)
 * http://jraiser.org/ | Released under MIT license
 */
define("paginator/1.1.x/",["dom/1.1.x/","widget/1.1.x/","tmpl/2.1.x/"],function(e,a,t){"use strict";var i=e("widget/1.1.x/"),r=e("tmpl/2.1.x/");return i.create({_init:function(e){var a=this,t=e.wrapper;t&&(t.empty().html(r.render(e.template,{currentPage:e.currentPage,totalPages:e.totalPages,pageItems:a._build(),nextText:e.nextText,prevText:e.prevText,ellipsisText:e.ellipsisText})),t.find("a").click(function(e){e.preventDefault(),a._trigger("click",{page:parseInt(this.getAttribute("data-page"))})}))},_destroy:function(e){e.wrapper&&e.wrapper.empty()},_build:function(){var e=this._options,a=e.totalPages;if(1>a)throw new Error('the value of "totalPages" cannot be less then 1');var t=e.howManyPageItems,i=parseInt((t-1)/2),r=e.currentPage||1,n=[],p=r-i,s=r+i,_=p-1,l=a-s;0>_&&(p=1,s=Math.min(a,s-_)),0>l&&(s=a,_>0&&(p=Math.max(1,p+l))),t%2===0&&(p>1?p--:a>s&&s++),p>1&&p++,a>s&&s--,p-1&&n.push({page:1,current:!1},{page:"..."});for(var g=p;s>=g;g++)n.push({page:g,current:g==r});return a-s&&n.push({page:"..."},{page:a,current:!1}),n}},{currentPage:1,howManyPageItems:7,prevText:"上一页",nextText:"下一页",ellipsisText:"...",template:'<ol class="paginator"><% if (currentPage > 1) { %><li class="paginator__item paginator__item-prev"><a href="#" data-page="<%=(currentPage - 1)%>" class="paginator__item__inner"><%=prevText%></a></li><% } else { %><li class="paginator__item paginator__item-prev paginator__item--disabled"><span class="paginator__item__inner"><%=prevText%></span></li><% } %><% pageItems.forEach(function(obj) { %><% if (obj.current) { %><li class="paginator__item paginator__item-number paginator__item--current"><span class="paginator__item__inner"><%=obj.page%></span></li><% } else if (obj.page === "...") { %><li class="paginator__item paginator__item-ellipsis"><span class="paginator__item__inner"><%=ellipsisText%></span></li><% } else { %><li class="paginator__item paginator__item-number"><a href="#" data-page="<%=obj.page%>" class="paginator__item__inner"><%=obj.page%></a></li><% } %><% }); %><% if (currentPage < totalPages) { %><li class="paginator__item paginator__item-next"><a href="#" data-page="<%=(currentPage + 1)%>" class="paginator__item__inner"><%=nextText%></a></li><% } else { %><li class="paginator__item paginator__item-next paginator__item--disabled"><span class="paginator__item__inner"><%=nextText%></span></li><% } %></ol>'})});