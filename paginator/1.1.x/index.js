/*!
 * JRaiser 2 Javascript Library
 * paginator - v1.1.0 (2016-02-11T10:01:44+0800)
 * http://jraiser.org/ | Released under MIT license
 */
define("paginator/1.1.x/",["dom/1.1.x/","widget/1.1.x/","tmpl/2.1.x/"],function(e,t,a){"use strict";var i=e("widget/1.1.x/"),r=e("tmpl/2.1.x/");return i.create({_init:function(e){var t=this,a=e.wrapper;a&&(a.empty().html(r.render(e.template,{currentPage:e.currentPage,totalPages:e.totalPages,pageItems:t._build(),nextText:e.nextText,prevText:e.prevText,ellipsisText:e.ellipsisText})),a.find("a").click(function(e){e.preventDefault(),t._trigger("click",{page:parseInt(this.getAttribute("data-page"))})}))},_destroy:function(e){e.wrapper&&e.wrapper.empty()},_build:function(){var e=this._options,t=e.totalPages;if(1>t)throw new Error('the value of "totalPages" cannot be less then 1');var a=e.howManyPageItems,i=parseInt((a-1)/2),r=e.currentPage||1,n=[],p=r-i,s=r+i,l=p-1,g=t-s;0>l&&(p=1,s=Math.min(t,s-l)),0>g&&(s=t,l>0&&(p=Math.max(1,p+g))),a%2===0&&(p>1?p--:t>s&&s++),p>1&&p++,t>s&&s--,p-1&&n.push({page:1,current:!1},{page:"..."});for(var o=p;s>=o;o++)n.push({page:o,current:o==r});return t-s&&n.push({page:"..."},{page:t,current:!1}),n}},{currentPage:1,howManyPageItems:7,prevText:"上一页",nextText:"下一页",ellipsisText:"...",template:'<ol class="paginator"><% if (currentPage > 1) { %><li class="paginator__item paginator__item-prev"><a href="#" data-page="<%=(currentPage - 1)%>"><%=prevText%></a></li><% } else { %><li class="paginator__item paginator__item-prev paginator__item--disabled"><span><%=prevText%></span></li><% } %><% pageItems.forEach(function(obj) { %><% if (obj.current) { %><li class="paginator__item paginator__item-number paginator__item--current"><span><%=obj.page%></span></li><% } else if (obj.page === "...") { %><li class="paginator__item paginator__item-ellipsis"><span><%=ellipsisText%></span></li><% } else { %><li class="paginator__item paginator__item-number"><a href="#" data-page="<%=obj.page%>"><%=obj.page%></a></li><% } %><% }); %><% if (currentPage < totalPages) { %><li class="paginator__item paginator__item-next"><a href="#" data-page="<%=(currentPage + 1)%>"><%=nextText%></a></li><% } else { %><li class="paginator__item paginator__item-next paginator__item--disabled"><span><%=nextText%></span></li><% } %></ol>'})});