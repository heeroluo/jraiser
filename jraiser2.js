/*!
 * jRaiser 2 Javascript Library
 * module loader - v1.0.3 (2013-12-26T13:35:47+0800)
 * http://jraiser.org/ | Released under MIT license
 */
!function(e,t){"use strict";function u(e){return e.replace(/^\s*\/\*[\s\S]*?\*\/\s*$/mg,"").replace(/^\s*\/\/.*$/mg,"")}function a(e){var t=[],n={},r;for(var i=0;i<e.length;i++)r=e[i],n[r]||(n[r]=!0,t.push(r));return t}function f(e){var t=/(?:^|[^.$])\brequire\s*\(\s*(["'])([^"'\s\)]+)\1\s*\)/g,n=[],r;e=u(e);while(r=t.exec(e))r[2]&&n.push(r[2]);return a(n)}function l(e){for(var t in e)return!1;return!0}function c(e){var t=0,n=arguments.length,r,i;while(++t<n){i=arguments[t];if(i!=null)for(r in i)e[r]=i[r]}return e}function h(e){return/^(?:[a-z]+):\/+/i.test(e)}function p(e){return e.replace(/([^:])\/{2,}/g,"$1/")}function d(e,t){var n=e.indexOf("?");return n!==-1&&(t&&(t.search=e.substr(n+1)),e=e.substr(0,n)),n=e.indexOf("#"),n!==-1&&(t&&(t.hash=e.substr(n+1)),e=e.substr(0,n)),e}function v(e,t){/^\/+/.test(e)?(t=r.appPath,e=e.substr(1)):/^\./.test(e)||(t=r.libPath),e=e.split("/");var n=t.split("/");for(var i=0;i<e.length;i++)e[i]===".."?!n[n.length-2]===""&&n.pop():e[i]!="."&&n.push(e[i]);return n.join("/")}function m(e,t){var n={},e=d(e,n).split("/"),i=e.pop()||"index",s=i.lastIndexOf("."),o,u;s===-1?o=i:(o=i.substr(0,s),u=i.substr(s+1)),u=u||"js";var a=/-debug$/;r.debug&&!a.test(o)?o+="-debug":!r.debug&&a.test(o)&&(o=o.replace(a,"")),e.push(o+"."+u);var f=e.join("/");h(f)||(f=v(f,t||r.appPath)),n.search&&(f+="?"+n.search);var l=r.map;if(l)for(var c=0;c<l.length;c++)f=f.replace(l[c][0],l[c][1]);return f}function E(e,t,n){this._factory=t,this._deps=n,e?this.setId(e):E.anonymous=this}function T(e){var t=o.createElement("div");return t.innerHTML='<a href="'+e+'"></a>',e=t.firstChild.href,t=null,e}function N(e){return h(e)||(e=T(e)),e=e.replace(/\/+$/,""),e}var n=e.jraiser={},r={},i=e.opera!=null&&e.opera.toString()==="[object Opera]",s=e.attachEvent&&!i,o=e.document,g="onload"in o.createElement("script")?"onload":"onreadystatechange",y={_scriptParent:o.getElementsByTagName("head")[0],_loaded:{},getExecutingScript:function(){if(this._currentlyAddingScript)return this._currentlyAddingScript;var e=this._executingScript;if(e&&e.readyState==="interactive")return e;var t=this._scriptParent.getElementsByTagName("script"),n;for(var r=0;r<t.length;r++){n=t[r];if(n.readyState==="interactive")return this._executingScript=n}},load:function(e,t,n){var i=this,s=i._loaded[e];if(s)s===2&&t&&t(u);else{var u=o.createElement("script");u.src=e,i._loaded[e]=1,r.charset&&(u.charset=r.charset),u.async="async";if(n)for(var a in n)u.setAttribute(a,n[a]);u[g]=u.onerror=function(){if(!u.readyState||"loaded"===u.readyState||"complete"===u.readyState)i._loaded[e]=2,i._executingScript=null,u[g]=u.onerror=null,t&&t(u),u.parentNode.removeChild(u),u=null},this._currentlyAddingScript=u,i._scriptParent.insertBefore(u,i._scriptParent.firstChild),this._currentlyAddingScript=null}}},b={_chain:{},add:function(e,t){var n=this._chain[t]=this._chain[t]||[];n.push(e)},get:function(e){return this._chain[e]},clear:function(e){delete this._chain[e]}},w={};c(E.prototype,{setId:function(e){var t=this;if(t._id)throw new Error("module id cannot be changed");t._id=e,t.isTask()||(e=d(e)),E.all[e]=t,E.anonymous===t&&delete E.anonymous;var n;t.isTask()?t._dirname="":(n=e.lastIndexOf("/"),t._dirname=n===e.length-1?e:e.substr(0,e.lastIndexOf("/")));var r=t._deps;if(r){var i;r[r.length-1]===null&&(i=!0,r.length-=1);var s=t._readyStates={},o;for(var u=0;u<r.length;u++){r[u]=m(r[u],t._dirname),n=r[u],r[u]=d(n),o=E.all[r[u]];if(!o||!o.isReady())b.add(e,r[u]),s[r[u]]=n,i&&(w[r[u]]=!0)}if(l(s))delete t._readyStates;else if(!w[t._id])for(o in s)E.load(s[o])}t._checkReady()},_checkReady:function(){if(this.isReady())if(this.isTask())S.tryExecute();else{var e=b.get(this._id);if(e){for(var t=e.length-1,n;t>=0;t--)n=E.all[e[t]],n&&n.notifyReady(this._id);b.clear(this._id)}}},id:function(){return this._id},isTask:function(){return/^#\d+#$/.test(this._id)},isReady:function(){return this._readyStates===t},notifyReady:function(e){var t=this._readyStates;t&&(delete t[e],l(t)&&delete this._readyStates),this._checkReady()},execute:function(){var t=this._deps,n=[];for(var r=t.length-1;r>=0;r--)n[r]=E.all[t[r]].exports();this._factory&&this._factory.apply(e,n)},exports:function(){var t=this,n=t._executedModule;if(n)return n.exports;n={id:t._id};if(typeof t._factory=="function"){n.exports={};var r=function(e){return E.require(e,t._dirname)};r.async=function(e,n){typeof e=="string"&&(e=[e]);for(var r=e.length-1;r>=0;r--)e[r]=m(e[r],t._dirname);x(e,n)},r.resolve=function(e){return m(e,t._dirname)};var i=t._factory.call(e,r,n.exports,n);!i||(n.exports=i)}else n.exports=t._factory;return t._executedModule=n,n.exports}}),c(E,{require:function(e,t){e=m(e,t);var n=E.all[d(e)];if(n)return n.exports();throw new Error("module "+e+" is not loaded")},load:function(e){var t=d(e);if(E.all[t])return;y.load(e,function(e){if(E.all[t])return;!s&&E.anonymous&&E.anonymous.setId(t);if(!E.all[t])throw new Error("module "+t+" does not exist")},{"data-dependent":"true"})},all:{}});var S={_autoId:0,_queue:[],add:function(e){this._queue.push(e),e.setId(this._nextId())},tryExecute:function(){var e;while(e=this._queue[0]){if(!e.isReady())break;this._queue.shift(),delete E.all[e.id()],e.execute()}},_nextId:function(){return this._autoId++,"#"+this._autoId+"#"}};e.define=function(){var e,t,n,r=arguments;switch(r.length){case 1:n=r[0],t=f(n.toString());break;case 2:t=r[0],n=r[1];break;case 3:e=d(m(r[0])),t=r[1],n=r[2]}if(!e&&s){var i=y.getExecutingScript();i&&i.getAttribute("data-dependent")&&(e=d(i.src))}typeof t=="string"&&(t=[t]),new E(e,n,t)},n.cache=E.all;var x=e.require=function(e,t){typeof e=="string"&&(e=[e]),S.add(new E(null,t,e))};x.resolve=function(e){return m(e)},n.config=function(e){for(var t in e)r[t]=e[t];e.hasOwnProperty("libPath")&&(r.libPath=N(r.libPath)),e.hasOwnProperty("appPath")&&(r.appPath=N(r.appPath))},n.config({libPath:"./",appPath:"./",debug:function(){var t=!1,n=e.location.search;return/[?|&]debug(&|$)/.test(n)?t=!0:/[?|&]nondebug(&|$)/.test(n)&&(t=!1),t}()});var C=o.getElementsByTagName("script"),k;for(var L=C.length-1;L>=0;L--)if(/jraiser/i.test(C[L].src)){k=C[L].getAttribute("data-main");if(k){x(k);break}}C=null}(window)