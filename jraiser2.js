/*!
 * JRaiser 2 Javascript Library
 * module loader - v1.0.5 (2014-05-20T14:07:02+0800)
 * http://jraiser.org/ | Released under MIT license
 */
!function(t,e){"use strict";function r(t){return t.replace(/^\s*\/\*[\s\S]*?\*\/\s*$/gm,"").replace(/^\s*\/\/.*$/gm,"")}function n(t){for(var e,r=[],n={},a=0;a<t.length;a++)e=t[a],n[e]||(n[e]=!0,r.push(e));return r}function a(t){var e,a=/(?:^|[^.$])\brequire\s*\(\s*(["'])([^"'\s\)]+)\1\s*\)/g,i=[];for(t=r(t);e=a.exec(t);)e[2]&&i.push(e[2]);return n(i)}function i(t){for(var e in t)return!1;return!0}function s(t){for(var e,r,n=0,a=arguments.length;++n<a;)if(r=arguments[n],null!=r)for(e in r)t[e]=r[e];return t}function o(t){return/^(?:[a-z]+):\/+/i.test(t)}function u(t,e){var r=t.indexOf("?");return-1!==r&&(e&&(e.search=t.substr(r+1)),t=t.substr(0,r)),r=t.indexOf("#"),-1!==r&&(e&&(e.hash=t.substr(r+1)),t=t.substr(0,r)),t}function c(t,e){/^\/+/.test(t)?(e=_.appPath,t=t.substr(1)):/^\./.test(t)||(e=_.libPath),t=t.split("/");for(var r=e.split("/"),n=0;n<t.length;n++)".."===t[n]?""===!r[r.length-2]&&r.pop():"."!=t[n]&&r.push(t[n]);return r.join("/")}function d(t,e,r){var n,a,i={},t=u(t,i).split("/"),s=t.pop()||"index",d=s.lastIndexOf(".");-1===d?n=s:(n=s.substr(0,d),a=s.substr(d+1)),a=a||"js";var l=/-debug$/;_.debug&&!l.test(n)?n+="-debug":!_.debug&&l.test(n)&&(n=n.replace(l,"")),t.push(n+"."+a);var f=t.join("/");if(o(f)||(f=c(f,e||_.appPath)),i.search&&(f+="?"+i.search),!r){var h=_.map;if(h)for(var p=0;p<h.length;p++)f=f.replace(h[p][0],h[p][1])}return f}function l(t,e,r){this._factory=e,this._deps=r,t?this.setId(t):l.anonymous=this}function f(t){var e=v.createElement("div");return e.innerHTML='<a href="'+t+'"></a>',t=e.firstChild.href,e=null,t}function h(t){return o(t)||(t=f(t)),t=t.replace(/\/+$/,"")}var p=t.jraiser={},_={},g=null!=t.opera&&"[object Opera]"===t.opera.toString(),y=t.attachEvent&&!g,v=t.document,m="onload"in v.createElement("script")?"onload":"onreadystatechange",x={_scriptParent:v.getElementsByTagName("head")[0],_loaded:{},getExecutingScript:function(){if(this._currentlyAddingScript)return this._currentlyAddingScript;var t=this._executingScript;if(t&&"interactive"===t.readyState)return t;for(var e,r=this._scriptParent.getElementsByTagName("script"),n=0;n<r.length;n++)if(e=r[n],"interactive"===e.readyState)return this._executingScript=e},load:function(t,e,r){var n=this,a=n._loaded[t];if(a)2===a&&e&&e(i);else{var i=v.createElement("script");if(i.src=t,n._loaded[t]=1,_.charset&&(i.charset=_.charset),i.async="async",r)for(var s in r)i.setAttribute(s,r[s]);i[m]=i.onerror=function(){i.readyState&&"loaded"!==i.readyState&&"complete"!==i.readyState||(n._loaded[t]=2,n._executingScript=null,i[m]=i.onerror=null,e&&e(i),i.parentNode.removeChild(i),i=null)},this._currentlyAddingScript=i,n._scriptParent.insertBefore(i,n._scriptParent.firstChild),this._currentlyAddingScript=null}}},b={_chain:{},add:function(t,e){var r=this._chain[e]=this._chain[e]||[];r.push(t)},get:function(t){return this._chain[t]},clear:function(t){delete this._chain[t]}},S={};s(l.prototype,{setId:function(t){var e=this;if(e._id)throw new Error("module id cannot be changed");e._id=t,e.isTask()||(t=u(t)),l.all[t]=l.all[t]||e,l.anonymous===e&&delete l.anonymous;var r;e.isTask()?e._dirname="":(r=t.lastIndexOf("/"),e._dirname=r===t.length-1?t:t.substr(0,t.lastIndexOf("/")));var n=e._deps;if(n){var a;null===n[n.length-1]&&(a=!0,n.length-=1);for(var s,o=e._readyStates={},c=0;c<n.length;c++)n[c]=d(n[c],e._dirname),r=n[c],n[c]=u(r),s=l.all[n[c]],s&&s.isReady()||(b.add(t,n[c]),o[n[c]]=r,a&&(S[n[c]]=!0));if(i(o))delete e._readyStates;else if(!S[e._id])for(s in o)l.load(o[s])}e._checkReady()},_checkReady:function(){if(this.isReady())if(this.isTask())P.tryExecute();else{var t=b.get(this._id);if(t){for(var e,r=t.length-1;r>=0;r--)e=l.all[t[r]],e&&e.notifyReady(this._id);b.clear(this._id)}}},id:function(){return this._id},isTask:function(){return/^#\d+#$/.test(this._id)},isReady:function(){return this._readyStates===e},notifyReady:function(t){var e=this._readyStates;e&&(delete e[t],i(e)&&delete this._readyStates),this._checkReady()},execute:function(){for(var e=this._deps,r=[],n=e.length-1;n>=0;n--)r[n]=l.all[e[n]].exports();this._factory&&this._factory.apply(t,r)},exports:function(){var e=this,r=e._executedModule;if(r)return r.exports;if(r={id:e._id},"function"==typeof e._factory){r.exports={};var n=function(t){return l.require(t,e._dirname)};n.async=function(t,r){"string"==typeof t&&(t=[t]);for(var n=t.length-1;n>=0;n--)t[n]=d(t[n],e._dirname,!0);E(t,r)},n.resolve=function(t){return d(t,e._dirname)};var a=e._factory.call(t,n,r.exports,r);a&&(r.exports=a)}else r.exports=e._factory;return e._executedModule=r,r.exports}}),s(l,{require:function(t,e){t=d(t,e);var r=l.all[u(t)];if(r)return r.exports();throw new Error("module "+t+" is not loaded")},load:function(t){var e=u(t);l.all[e]||x.load(t,function(){if(!l.all[e]&&(!y&&l.anonymous&&l.anonymous.setId(e),!l.all[e]))throw new Error("module "+e+" does not exist")},{"data-dependent":"true"})},all:{}});var P={_autoId:0,_queue:[],add:function(t){this._queue.push(t),t.setId(this._nextId())},tryExecute:function(){for(var t;(t=this._queue[0])&&t.isReady();)this._queue.shift(),delete l.all[t.id()],t.execute()},_nextId:function(){return this._autoId++,"#"+this._autoId+"#"}};t.define=function(){var t,e,r,n=arguments;switch(n.length){case 1:r=n[0],e=a(r.toString());break;case 2:e=n[0],r=n[1];break;case 3:t=u(d(n[0])),e=n[1],r=n[2]}if(!t&&y){var i=x.getExecutingScript();i&&i.getAttribute("data-dependent")&&(t=u(i.src))}"string"==typeof e&&(e=[e]),new l(t,r,e)},p.cache=l.all;var E=t.require=function(t,e){"string"==typeof t&&(t=[t]),P.add(new l(null,e,t))};E.resolve=function(t){return d(t)},p.config=function(t){for(var e in t)_[e]=t[e];t.hasOwnProperty("libPath")&&(_.libPath=h(_.libPath)),t.hasOwnProperty("appPath")&&(_.appPath=h(_.appPath))},p.config({libPath:"./",appPath:"./",debug:function(){var e=!1,r=t.location.search;return/[?|&]debug(&|$)/.test(r)?e=!0:/[?|&]nondebug(&|$)/.test(r)&&(e=!1),e}()});for(var w,I=v.getElementsByTagName("script"),k=I.length-1;k>=0;k--)if(/jraiser/i.test(I[k].src)&&(w=I[k].getAttribute("data-main"))){E(w);break}I=null}(window);