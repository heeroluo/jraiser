<!DOCTYPE html>
<html lang="zh-hans">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,shrink-to-fit=no" />
<meta name="format-detection" content="telephone=no,email=no" />
<meta name="keywords" content="javascript,jraiser,bowljs,modular,library,cmd,amd,loader,define,require,模块化,加载器" />
<meta name="description" content="基于CMD规范的模块化类库，包含加载器和一些通用性强的基础模块和UI组件。此外还有配套的CLI工具，可用于构建代码和生成API文档。" />
<title>快速上手 | JRaiser</title>
<link href="/jraiser/style/basic.css?1" media="all" rel="stylesheet" type="text/css" />
<link href="/jraiser/style/common.css?1" media="all" rel="stylesheet" type="text/css" />
</head>

<body>
<!--[if lt IE 9]>
<script>
!function(body) {
	var html = body.parentNode;
	body.style.width = '100%';
	body.style.height = '100%';
	html.style.overflow = body.style.overflow= 'hidden';
}(document.body);
</script>
<iframe src="/4oie.html" frameborder="0" scrolling="no" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0; z-index: 99999;"></iframe>
<![endif]-->
<header class="header">
	<div class="g-boundary g-clearfix">
		<div class="header__logo">
			<a href="/">
				<img src="/jraiser/image/logo.png" alt="JRaiser" />
			</a>
		</div>
		<nav class="header__nav">
			<a href="/jraiser/article/list/beginner/quick-start.html" class="header__nav__item header__nav__item__current">教程</a>
			<a href="/jraiser/api/index.html" target="_blank" class="header__nav__item">API文档</a>
			<a href="https://github.com/heeroluo/jraiser/issues" target="_blank" class="header__nav__item">提交Issue</a>
		</nav>
	</div>
</header>
<div class="p-wrapper g-boundary g-clearfix">
	<div id="main" class="p-main">
		<article class="p-article">
	<h1 class="p-article__title">快速上手</h1>
	<div class="p-article__content"><h2 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h2><p>本类库源代码文件结构（以“/”结尾的是文件夹）：</p>
<ul>
<li><strong>doc-template/</strong>：文档模板，用于生成模块API文档。</li>
<li><strong>example/</strong>：部分模块的使用示例。</li>
<li><strong>lib/</strong>：本类库的所有模块。</li>
<li><strong>bowl-debug.js</strong>：加载器（开发版本）。</li>
<li><strong>bowl.js</strong>：加载器（生产版本）。</li>
<li><strong>document.settings</strong>：文档生成配置，配合 <a href="https://github.com/heeroluo/bowljs-cli" target="_blank" rel="external">Bowljs CLI</a> 使用。</li>
<li><strong>lib.settings</strong>：类库构建配置，配合 <a href="https://github.com/heeroluo/bowljs-cli" target="_blank" rel="external">Bowljs CLI</a> 使用。</li>
<li><strong>package.settings</strong>：自定义构建配置，配合 <a href="https://github.com/heeroluo/bowljs-cli" target="_blank" rel="external">Bowljs CLI</a> 使用。</li>
</ul>
<p>在实际项目中，建议按以下结构重新放置文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">static/                 「静态文件目录」</span><br><span class="line">  - js/                 「普通JS」</span><br><span class="line">    - bowljs/           「加载器」</span><br><span class="line">      - 1.1/</span><br><span class="line">        - bowl.js</span><br><span class="line">  - modjs/              「模块化JS」</span><br><span class="line">    - lib               「JRaiser模块」</span><br><span class="line">    - app               「项目模块」</span><br><span class="line">      - common          「项目公共模块」</span><br><span class="line">      - page            「项目页面模块」</span><br><span class="line">    - lib.settings</span><br><span class="line">    - package.settings</span><br></pre></td></tr></table></figure>
<h2 id="简单使用"><a href="#简单使用" class="headerlink" title="简单使用"></a>简单使用</h2><p>要使用本类库中的模块，必须先在页面中加载并配置 <a href="https://github.com/heeroluo/bowljs" target="_blank" rel="external">Bowl.js</a> 。在「static」目录下新建「hello-world.html」，录入：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/bowljs/1.1/bowl.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span><br><span class="line">bowljs.config(&#123;</span><br><span class="line">    <span class="comment">// 指定类库目录</span></span><br><span class="line">    libPath: <span class="string">'modjs/lib'</span>,</span><br><span class="line">    <span class="comment">// 预加载一些处理兼容性的模块</span></span><br><span class="line">    preload: [</span><br><span class="line">        <span class="built_in">Function</span>.prototype.bind ? <span class="string">''</span> : <span class="string">'compatibility/es5-shim'</span>,</span><br><span class="line">        <span class="built_in">window</span>.JSON ? <span class="string">''</span> : <span class="string">'compatibility/json2'</span>,</span><br><span class="line">        <span class="built_in">window</span>.localStorage ? <span class="string">''</span> : <span class="string">'compatibility/localstorage'</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="comment">// 开发模式</span></span><br><span class="line">    debug: <span class="literal">true</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>接着就可以通过全局变量「<strong>require</strong>」调用类库中的模块。例如：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span><br><span class="line"><span class="built_in">require</span>(<span class="string">'dom@1.1.x'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$</span>) </span>&#123;</span><br><span class="line">    $(<span class="string">'body'</span>).prepend(<span class="string">'&lt;p&gt;Hello world&lt;/p&gt;'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="独立文件"><a href="#独立文件" class="headerlink" title="独立文件"></a>独立文件</h2><p>在实际项目中，经常要把JS代码放到.js文件中而不是写在HTML文档内。在「static/modjs/app/page」目录下新建「hello-world-debug.js」，录入：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">define(<span class="function"><span class="keyword">function</span>(<span class="params">require</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> $ = <span class="built_in">require</span>(<span class="string">'dom@1.1.x'</span>);</span><br><span class="line">    $(<span class="string">'body'</span>).prepend(<span class="string">'&lt;p&gt;Hello world&lt;/p&gt;'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>修改「hello-world.html」的内容为：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/bowljs/1.1/bowl.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span><br><span class="line">bowljs.config(&#123;</span><br><span class="line">    libPath: <span class="string">'modjs/lib'</span>,</span><br><span class="line">    appPath: <span class="string">'modjs/app'</span>,  <span class="comment">// 配置项目目录</span></span><br><span class="line">    preload: [</span><br><span class="line">        <span class="built_in">Function</span>.prototype.bind ? <span class="string">''</span> : <span class="string">'compatibility/es5-shim'</span>,</span><br><span class="line">        <span class="built_in">window</span>.JSON ? <span class="string">''</span> : <span class="string">'compatibility/json2'</span>,</span><br><span class="line">        <span class="built_in">window</span>.localStorage ? <span class="string">''</span> : <span class="string">'compatibility/localstorage'</span></span><br><span class="line">    ],</span><br><span class="line">    debug: <span class="literal">true</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 加载应用目录下的 page/hello-world-debug.js</span></span><br><span class="line"><span class="built_in">require</span>(<span class="string">'/page/hello-world'</span>);</span><br><span class="line"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>这样就可以把代码放到外部.js文件了。</p>
<p>更多加载器配置请参阅 <a href="https://github.com/heeroluo/bowljs/wiki/%E5%8A%A0%E8%BD%BD%E5%99%A8%E9%85%8D%E7%BD%AE" target="_blank" rel="external">Bowl.js加载器配置</a> 。</p>
</div>
</article>
<nav class="p-article-adjacent g-clearfix">
	<a href="/jraiser/article/list/beginner/why-modular.html" class="p-article-adjacent__prev">为什么模块化</a>
	<a href="/jraiser/article/list/beginner/build.html" class="p-article-adjacent__next">构建</a>
</nav>
		<script>
		!function() {
			var links = document.querySelectorAll('#main a'), host = window.location.host;
			for (var i = links.length - 1; i >= 0; i--) {
				if (links[i].host !== host) { links[i].target = '_blank'; }
			}
		}();
		</script>
	</div>
	<aside id="sidebar" class="c-sidebar">
	<nav class="c-sidebar__nav">
		<div class="c-sidebar__nav__title">入门</div>
		<ul class="c-sidebar__nav__list">
			<li><a href="/jraiser/article/list/beginner/why-modular.html">为什么模块化</a></li>
			<li><a href="/jraiser/article/list/beginner/quick-start.html">快速上手</a></li>
			<li><a href="/jraiser/article/list/beginner/build.html">构建</a></li>
		</ul>
	</nav>
	<nav class="c-sidebar__nav">
		<div class="c-sidebar__nav__title">进阶</div>
		<ul class="c-sidebar__nav__list">
			<li><a href="/jraiser/article/list/advanced/build-by-gulp.html">与Gulp搭配使用</a></li>
		</ul>
	</nav>
	<nav class="c-sidebar__nav">
		<div class="c-sidebar__nav__title">常见问题</div>
		<ul class="c-sidebar__nav__list">
			<li><a href="/jraiser/article/list/faq/third-party-module.html">调用第三方模块</a></li>
			<li><a href="/jraiser/article/list/faq/about-module-id.html">关于模块ID</a></li>
		</ul>
	</nav>
</aside>
<script>
!function(global) {
	var sideNavLinks = global.document.querySelectorAll('#sidebar a');
	var pathname = global.location.pathname;
	for (var i = sideNavLinks.length - 1; i >= 0; i--) {
		if (sideNavLinks[i].getAttribute('href') === pathname) {
			sideNavLinks[i].parentNode.className = 'sidebar__nav__list__item--current';
			return;
		}
	}
}(window);
</script>
</div>
<footer class="c-footer g-keep-bottom js-keep-bottom">
	<div class="g-boundary g-clearfix">
		<div class="c-footer__copyright">
			<p>Copyright &copy; 2012-2018 <a href="//mrluo.life/" target="_blank">Mr.Luo</a></p>
			<p>Released under the <a href="https://opensource.org/licenses/MIT" target="_blank">MIT license</a></p>
		</div>
		<div class="c-footer__related">
			<p>相关链接：</p>
			<ul class="c-footer__related__list g-clearfix">
				<li><a href="https://github.com/heeroluo/bowljs" target="_blank">Bowl.js项目</a></li>
				<li><a href="https://github.com/heeroluo/bowljs-cli" target="_blank">Bowljs CLI项目</a></li>
			</ul>
		</div>
	</div>
</footer>
<script>
!function(global) {
	var body = global.document.body;
	function updateBottomHeight() {
		var elts = body.querySelectorAll('.js-keep-bottom');
		var totalHeight = 0, lastHeight;
		for (var i = elts.length - 1; i >= 0; i--) {
			if (lastHeight) { elts[i].style.bottom = lastHeight + 'px'; }
			lastHeight = elts[i].offsetHeight;
			totalHeight += lastHeight;
		}
		body.style.paddingBottom = totalHeight + 'px';
	}
	global.addEventListener('resize', updateBottomHeight, false);
	updateBottomHeight();
	if (/\bEdge\b/.test(global.navigator.userAgent)) {
		setTimeout(updateBottomHeight, 0);
	}
}(window);
</script>
<div style="display: none;"><script src="//s4.cnzz.com/stat.php?id=4803075&amp;web_id=4803075"></script></div>
</body>
</html>