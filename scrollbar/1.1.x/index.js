/*!
 * JRaiser 2 Javascript Library
 * scrollbar - v1.1.0 (2015-07-30T11:54:53+0800)
 * http://jraiser.org/ | Released under MIT license
 */
define("scrollbar/1.1.x/",["dom/1.1.x/","widget/1.1.x/","uadetector/1.0.x/","draggable/1.1.x/"],function(l,r,o){"use strict";var s,e=l("base/1.1.x/"),i=l("dom/1.1.x/"),a=l("widget/1.1.x/"),t=l("draggable/1.1.x/"),c='<div class="ui-scrollbar" style="position: absolute;"><div class="ui-scrollbar__track" style="position: relative;"><div class="ui-scrollbar__track__thumb"></div></div></div>';s="onmousewheel"in document.body?"mousewheel":"DOMMouseScroll";var _="webkitOverflowScrolling"in document.body.style;return a.create({_init:function(l){var r=String(l.axis).toLowerCase();if("x"!==r&&"y"!==r)throw new Error('Axis must be "x" or "y"');var o=this;if(o._axis=r,o._scrollBody=l.scrollBody,o._scrollOuter=o._scrollBody.parent(),_){o._overflowStyle={webkitOverflowScrolling:"touch"};var e;switch(o._axis){case"x":o._overflowStyle.overflowX="scroll",e="scrollLeft";break;case"y":o._overflowStyle.overflowY="scroll",e="scrollTop"}o._scrollOuter.css(o._overflowStyle),o._onDOMEvent(o._scrollOuter,"scroll",function(l){o._scrollPosition=this[e],o._trigger("scroll",{sourceEvent:l,scrollBody:scrollBody,scrollPosition:o._scrollPosition})})}else{switch(o._scrollOuter.css("position","relative"),o._scrollBody.css({left:0,top:0,position:"absolute"}),o._scrollbar=i(c),r){case"x":o._scrollbar.addClass("ui-scrollbar--horizontal");break;case"y":o._scrollbar.addClass("ui-scrollbar--vertical")}o._scrollbar.appendTo(o._scrollOuter),o._scrollThumb=o._scrollbar.find(".ui-scrollbar__track__thumb"),o._onDOMEvent(o._scrollbar.find(".ui-scrollbar__track"),"click",function(l){if(!i(l.target).hasClass("ui-scrollbar__track__thumb")){var r;switch(o._axis){case"x":r=l.offsetX/i(this).innerWidth();break;case"y":r=l.offsetY/i(this).innerHeight()}o.scrollTo(100*r+"%")}}),l.mouseWheelStep&&o._onDOMEvent(o._scrollOuter,s,function(r){if(o._scrollbarAvailable){var s=r.originalEvent,e=1;(s.wheelDelta&&s.wheelDelta>0||s.detail&&s.detail<0)&&(e=-1),(!l.scrollPageOnEnd||-1===e&&o._scrollPosition>0||1===e&&o._scrollPosition<o._scrollBodyLimit)&&(o.scroll(e*l.mouseWheelStep),r.preventDefault())}})}o.refresh()},_destroy:function(){var l=this;l._scrollOuter.removeClass("ui-scrollbar-outer--unscrollable"),l._overflowStyle&&e.each(l._overflowStyle,function(r,o){l._scrollOuter.css(o,"")}),l._draggable&&l._draggable.destroy(),l._scrollbar&&l._scrollbar.remove()},refresh:function(){var l,r,o=this,s=o._scrollOuter,e=o._scrollBody;switch(o._axis){case"x":l=e.outerWidth(!0),r=s.width();break;case"y":l=e.outerHeight(!0),r=s.height()}if(o._bodySize=l,o._scrollBodyLimit=Math.max(l-r,0),o._scrollbarAvailable=o._scrollBodyLimit>0,o._trigger("beforerefresh",{bodySize:l,scrollBody:e,scrollbar:o._scrollbar}),o._scrollbarAvailable?s.removeClass("ui-scrollbar-outer--unscrollable"):s.addClass("ui-scrollbar-outer--unscrollable"),!_){var i;if(o._scrollbarAvailable){var a,c=r/l,n=o._options.minThumbSize||1;switch(o._axis){case"x":a=s.innerWidth(),i=e.position().left,n=Math.max(c*a,n),o._scrollbar.width(a),o._scrollThumb.width(n);break;case"y":a=s.innerHeight(),i=e.position().top,n=Math.max(c*a,n),o._scrollbar.height(a),o._scrollThumb.height(n)}o._scrollThumbLimit=a-n,o._draggable=o._draggable||new t({wrapper:o._scrollThumb,boundary:o._scrollbar.find(".ui-scrollbar__track"),events:{drag:function(l){var r;switch(o._axis){case"x":r=l.position.left;break;case"y":r=l.position.top}o.scrollTo(r/o._scrollThumbLimit*100+"%",l.sourceEvent)}}}),o._scrollbar.removeClass("ui-scrollbar--unavailable")}else o._draggable&&(o._draggable.destroy(),delete o._draggable),o._scrollbar.addClass("ui-scrollbar--unavailable");o.scrollTo(i||0)}o._trigger("afterrefresh",{bodySize:l,scrollBody:e,scrollbar:o._scrollbar,scrollbarAvailable:o._scrollbarAvailable})},available:function(){return this._scrollbarAvailable},bodySize:function(){return this._bodySize},scrollPosition:function(){return this._scrollPosition},scrollTo:function(l,r){var o=this;if(l="string"==typeof l&&"%"===l.charAt(l.length-1)?(parseFloat(l)||0)/100*o._scrollBodyLimit:Number(l)||0,o._scrollbarAvailable||0===l){if(_){var s;switch(o._axis){case"x":s="scrollLeft";break;case"y":s="scrollTop"}return void o._scrollOuter.prop(s,l)}0>l?l=0:l>o._scrollBodyLimit&&(l=o._scrollBodyLimit);var e;switch(o._axis){case"x":e="left";break;case"y":e="top"}o._scrollBody.css(e,-l),o._scrollPosition=l;var i=o._scrollBodyLimit?l/o._scrollBodyLimit:0;o._scrollThumb.css(e,i*o._scrollThumbLimit),o._trigger("scroll",{sourceEvent:r,scrollbar:o._scrollbar,scrollBody:o._scrollBody,scrollPosition:l,scrollProgress:i})}},scroll:function(l){this.scrollTo(this._scrollPosition+l)}},{axis:"y",minThumbSize:20,mouseWheelStep:50,scrollPageOnEnd:!0})});