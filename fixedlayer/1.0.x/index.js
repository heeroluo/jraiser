/*!
 * JRaiser 2 Javascript Library
 * fixedlayer - v1.0.0 (2014-11-22T19:49:17+0800)
 * http://jraiser.org/ | Released under MIT license
 */
define("fixedlayer/1.0.x/",["underscore/1.6.x/","widget/1.0.x/","dom/1.0.x/"],function(t){"use strict";var o=t("base/1.0.x/"),e=t("underscore/1.6.x/"),i=t("widget/1.0.x/"),s=t("dom/1.0.x/"),n=s(window),r=!(/MSIE\s(\d+)/.test(window.navigator.userAgent)&&parseInt(RegExp.$1,10)<7),c=i.create(function(t){var e=o.extend({},t.position),i=t.wrapper.get(0);["top","bottom","left","right"].forEach(function(t){if(!e[t]){var o=i.style[t];o&&(e[t]=parseFloat(o))}}),this._position=e},{_init:function(t){var i=this,s=t.wrapper,c=/^center$/i;if(i._originalPosition=s.css("position"),r&&t.useFixed){s.css("position","fixed");var a;o.each(i._position,function(t,o){c.test(t)?a=!0:s.css(o,t)}),a&&(i.computePosition=i.computePosition||function(){var t=i._position,o=document.documentElement,e={};return(c.test(t.top)||c.test(t.bottom))&&(e.top=(o.clientHeight-s.outerHeight(!0))/2),(c.test(t.left)||c.test(t.right))&&(e.left=(o.clientWidth-s.outerWidth(!0))/2),e})}else{s.css("position","absolute");var l=s.offsetParent(),p=l.offset();"BODY"===l.prop("tagName")&&(p.top-=parseFloat(l.css("marginTop")),p.left-=parseFloat(l.css("marginLeft"))),i.computePosition=i.computePosition||function(){var t=document.documentElement,o=document.body,e=i._position,n=t.scrollTop||o.scrollTop||0,r=t.scrollLeft||o.scrollLeft||0;c.test(e.top)||c.test(e.bottom)?n+=(t.clientHeight-s.outerHeight(!0))/2:null!=e.top?n+=e.top:null!=e.bottom&&(n+=t.clientHeight-e.bottom-s.outerHeight(!0)),c.test(e.left)||c.test(e.right)?r+=(t.clientWidth-s.outerWidth(!0))/2:null!=e.left?r+=e.left:null!=e.right&&(r+=t.clientWidth-e.right-s.outerWidth(!0));var a={top:n-p.top,left:r-p.left},l=s.css("right");return l&&"auto"!==l&&s.css({left:a.left,right:"auto"}),l=s.css("bottom"),l&&"auto"!==l&&s.css({top:a.top,bottom:"auto"}),a}}if(i.computePosition){switch(t.effect){case"move":i.moveToPosition=e.throttle(function(){s.animate(i.computePosition(),{duration:t.duration,callback:function(){i._inited||delete i.computePosition}})},t.redrawDelay);break;case"none":i.moveToPosition=function(){s.css(i.computePosition())};break;default:throw new Error("effect("+t.effect+") is invalid")}i.moveToPosition(),r&&t.useFixed||n.on("scroll",i.moveToPosition),n.on("resize",i.moveToPosition)}},_destroy:function(t){var o=this;t.wrapper.css("position",o._originalPosition),delete o._originalPosition,delete o._position,o.moveToPosition&&(n.off("scroll resize",o.moveToPosition),"none"===t.effect&&delete o.computePosition,delete o.moveToPosition)},reposition:function(){var t=this,o=t._options.wrapper,e={};["Top","Left"].forEach(function(i){var s=o.css(i.toLowerCase());s&&(e[i.toLowerCase()]=parseFloat(s)-(r&&t._options.useFixed?0:n["scroll"+i]()))}),t.options({position:e})}},{effect:"move",redrawDelay:80,useFixed:!0});return c.nativeSupport=r,c});