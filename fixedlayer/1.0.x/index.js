/*!
 * JRaiser 2 Javascript Library
 * fixedlayer - v1.0.0 (2014-11-22T19:49:17+0800)
 * http://jraiser.org/ | Released under MIT license
 */
define("fixedlayer/1.0.x/",["underscore/1.6.x/","widget/1.0.x/","dom/1.0.x/"],function(t,o,e){"use strict";var i=t("base/1.0.x/"),s=t("underscore/1.6.x/"),n=t("widget/1.0.x/"),r=t("dom/1.0.x/"),c=r(window),a=!(/MSIE\s(\d+)/.test(window.navigator.userAgent)&&parseInt(RegExp.$1,10)<7),l=n.create(function(t){var o=i.extend({},t.position),e=t.wrapper.get(0);["top","bottom","left","right"].forEach(function(t){if(!o[t]){var i=e.style[t];i&&(o[t]=parseFloat(i))}}),this._position=o},{_init:function(t){var o=this,e=t.wrapper,n=/^center$/i;if(o._originalPosition=e.css("position"),a&&t.useFixed){e.css("position","fixed");var r;i.each(o._position,function(t,o){n.test(t)?r=!0:e.css(o,t)}),r&&(o.computePosition=o.computePosition||function(){var t=o._position,i=document.documentElement,s={};return(n.test(t.top)||n.test(t.bottom))&&(s.top=(i.clientHeight-e.outerHeight(!0))/2),(n.test(t.left)||n.test(t.right))&&(s.left=(i.clientWidth-e.outerWidth(!0))/2),s})}else{e.css("position","absolute");var l=e.offsetParent(),p=l.offset();"BODY"===l.prop("tagName")&&(p.top-=parseFloat(l.css("marginTop")),p.left-=parseFloat(l.css("marginLeft"))),o.computePosition=o.computePosition||function(){var t=document.documentElement,i=document.body,s=o._position,r=t.scrollTop||i.scrollTop||0,c=t.scrollLeft||i.scrollLeft||0;n.test(s.top)||n.test(s.bottom)?r+=(t.clientHeight-e.outerHeight(!0))/2:null!=s.top?r+=s.top:null!=s.bottom&&(r+=t.clientHeight-s.bottom-e.outerHeight(!0)),n.test(s.left)||n.test(s.right)?c+=(t.clientWidth-e.outerWidth(!0))/2:null!=s.left?c+=s.left:null!=s.right&&(c+=t.clientWidth-s.right-e.outerWidth(!0));var a={top:r-p.top,left:c-p.left},l=e.css("right");return l&&"auto"!==l&&e.css({left:a.left,right:"auto"}),l=e.css("bottom"),l&&"auto"!==l&&e.css({top:a.top,bottom:"auto"}),a}}if(o.computePosition){switch(t.effect){case"move":o.moveToPosition=s.throttle(function(){e.animate(o.computePosition(),{duration:t.duration,callback:function(){o._inited||delete o.computePosition}})},t.redrawDelay);break;case"none":o.moveToPosition=function(){e.css(o.computePosition())};break;default:throw new Error("effect("+t.effect+") is invalid")}o.moveToPosition(),a&&t.useFixed||c.on("scroll",o.moveToPosition),c.on("resize",o.moveToPosition)}},_destroy:function(t){var o=this;t.wrapper.css("position",o._originalPosition),delete o._originalPosition,delete o._position,o.moveToPosition&&(c.off("scroll resize",o.moveToPosition),"none"===t.effect&&delete o.computePosition,delete o.moveToPosition)},reposition:function(){var t=this,o=t._options.wrapper,e={};["Top","Left"].forEach(function(i,s){var n=o.css(i.toLowerCase());n&&(e[i.toLowerCase()]=parseFloat(n)-(a&&t._options.useFixed?0:c["scroll"+i]()))}),t.options({position:e})}},{effect:"move",redrawDelay:80,useFixed:!0});return l.nativeSupport=a,l});